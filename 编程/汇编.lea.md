#汇编 #基础 #c语言 



若 `Text` 定义为：
```asm
Text: db 'Hello', 0  ; 字符串在内存中的地址假设为 0x00401000
```

- `lea rdx, Text` → `rdx = 0x00401000`（地址）
- `mov rdx, Text` → `rdx = 0x6C6C6548`（`'Hell'` 的 ASCII 码，取决于数据长度）
### 典型用途

1. **传递字符串地址**  
    在调用系统函数（如 `write` 或 `printf`）时，需传递字符串的地址作为参数。例如：
    
    ```asm
    ; 定义字符串
    Text: db 'Hello, World!', 0
    
    ; 调用 printf 打印字符串（printf 需要字符串地址作为参数）
    lea rdi, Format   ; rdi = 格式字符串地址（如 "%s\n"）
    lea rdx, Text     ; rdx = 要打印的字符串地址
    call printf
    ```
    
      
    
2. **计算地址偏移**  
    `lea` 可通过偏移量计算复杂地址（类似指针运算）：
    
    ```asm
    ; 假设 rbx 是数组首地址，计算第 3 个元素（每个元素8字节）的地址
    lea rdx, [rbx + 3*8]  ; rdx = rbx + 24（等价于 &array[3]）
    ```
    
      
### 为什么用 `lea` 而非 `mov` 取地址？

- `mov` 取地址需显式使用地址运算符（如 `mov rdx, offset Text`，部分汇编器支持），而 `lea` 更直接。
- `lea` 支持地址计算（如 `lea rdx, [Text + 4]`），可一次性获取偏移地址，无需额外指令。